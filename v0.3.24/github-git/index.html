<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>GitHub &amp; Git · Trixi.jl</title><link href="https://trixi-framework.github.io/Trixi.jl/stable/github-git/" rel="canonical"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script data-main="../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/><script data-outdated-warner="">function maybeAddWarning () {
    const head = document.getElementsByTagName('head')[0];

    // Add a noindex meta tag (unless one exists) so that search engines don't index this version of the docs.
    if (document.body.querySelector('meta[name="robots"]') === null) {
        const meta = document.createElement('meta');
        meta.name = 'robots';
        meta.content = 'noindex';

        head.appendChild(meta);
    };

    // Add a stylesheet to avoid inline styling
    const style = document.createElement('style');
    style.type = 'text/css';
    style.appendChild(document.createTextNode('.outdated-warning-overlay {  position: fixed;  top: 0;  left: 0;  right: 0;  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);  z-index: 999;  background-color: #ffaba7;  color: rgba(0, 0, 0, 0.7);  border-bottom: 3px solid #da0b00;  padding: 10px 35px;  text-align: center;  font-size: 15px; }  .outdated-warning-overlay .outdated-warning-closer {    position: absolute;    top: calc(50% - 10px);    right: 18px;    cursor: pointer;    width: 12px; }  .outdated-warning-overlay a {    color: #2e63b8; }    .outdated-warning-overlay a:hover {      color: #363636; }'));
    head.appendChild(style);

    const div = document.createElement('div');
    div.classList.add('outdated-warning-overlay');
    const closer = document.createElement('div');
    closer.classList.add('outdated-warning-closer');

    // Icon by font-awesome (license: https://fontawesome.com/license, link: https://fontawesome.com/icons/times?style=solid)
    closer.innerHTML = '<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>';
    closer.addEventListener('click', function () {
        document.body.removeChild(div);
    });
    let href = '/stable';
    if (window.documenterBaseURL) {
        href = window.documenterBaseURL + '/../stable';
    }
    div.innerHTML = 'This is an old version of the documentation. <br> <a href="' + href + '">Go to the newest version</a>.';
    div.appendChild(closer);
    document.body.appendChild(div);
};

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', maybeAddWarning);
} else {
    maybeAddWarning();
};
</script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img alt="Trixi.jl logo" src="../assets/logo.png"/></a><div class="docs-package-name"><span class="docs-autofit">Trixi.jl</span></div><form action="../search/" class="docs-search"><input class="docs-search-query" id="documenter-search-query" name="q" placeholder="Search docs" type="text"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../visualization/">Visualization</a></li><li><a class="tocitem" href="../conventions/">Conventions</a></li><li><a class="tocitem" href="../time_integration/">Time integration</a></li><li><a class="tocitem" href="../callbacks/">Callbacks</a></li><li><a class="tocitem" href="../development/">Development</a></li><li><a class="tocitem" href="../performance/">Performance</a></li><li><a class="tocitem" href="../parallelization/">Parallelization</a></li><li><a class="tocitem" href="../testing/">Testing</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../adding_a_new_equation/">Adding a new equation</a></li><li><a class="tocitem" href="../differentiable_programming/">Differentiable programming</a></li></ul></li><li><a class="tocitem" href="../troubleshooting/">Troubleshooting</a></li><li><a class="tocitem" href="../styleguide/">Style guide</a></li><li class="is-active"><a class="tocitem" href="">GitHub &amp; Git</a><ul class="internal"><li><a class="tocitem" href="#Development-workflow"><span>Development workflow</span></a></li><li><a class="tocitem" href="#Using-Git"><span>Using Git</span></a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../reference-trixi/">Trixi.jl</a></li><li><a class="tocitem" href="../reference-trixi2vtk/">Trixi2Vtk.jl</a></li><li><a class="tocitem" href="../reference-trixi2img/">Trixi2Img.jl</a></li></ul></li><li><a class="tocitem" href="../authors/">Authors</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="">GitHub &amp; Git</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">GitHub &amp; Git</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/trixi-framework/Trixi.jl/blob/master/docs/src/github-git.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a></div></header><article class="content" id="documenter-page"><h1 id="GitHub-and-Git"><a class="docs-heading-anchor" href="#GitHub-and-Git">GitHub &amp; Git</a><a id="GitHub-and-Git-1"></a><a class="docs-heading-anchor-permalink" href="#GitHub-and-Git" title="Permalink"></a></h1><p>This page contains information on how to use GitHub and Git when developing Trixi.</p><h2 id="Development-workflow"><a class="docs-heading-anchor" href="#Development-workflow">Development workflow</a><a id="Development-workflow-1"></a><a class="docs-heading-anchor-permalink" href="#Development-workflow" title="Permalink"></a></h2><p>For adding modifications to Trixi, we generally follow these steps:</p><h3 id="Create-an-issue-(optional)"><a class="docs-heading-anchor" href="#Create-an-issue-(optional)">Create an issue (optional)</a><a id="Create-an-issue-(optional)-1"></a><a class="docs-heading-anchor-permalink" href="#Create-an-issue-(optional)" title="Permalink"></a></h3><p>In many cases it makes sense to start by creating an issue on GitHub. For example, if the implementation approach for a new feature is not yet clear or if there should be a discussion about the desired outcome, it is good practice to first get a consensus on what is the expected result of this modification. A GitHub issue is <em>the</em> place to lead this discussion, as it preserves it in the project and - together with the actual code changes - allows in the future to revisit the reasons for a particular choice of implementation or feature.</p><h3 id="Create-a-branch-and-*immediately*-create-a-pull-request"><a class="docs-heading-anchor" href="#Create-a-branch-and-*immediately*-create-a-pull-request">Create a branch and <em>immediately</em> create a pull request</a><a id="Create-a-branch-and-*immediately*-create-a-pull-request-1"></a><a class="docs-heading-anchor-permalink" href="#Create-a-branch-and-*immediately*-create-a-pull-request" title="Permalink"></a></h3><p>All feature development, bug fixes etc. should be developed in a branch and not directly on <code>main</code>. If you do not have write access to the main repository on GitHub, first create a fork of the Trixi.jl repository and clone the fork to your machine. Then, create a branch locally by executing <code>git checkout -b yourbranch</code>, push it to the repository, and create a pull request (PR).</p><p>If you have already cloned Trixi.jl from the main repo to your local machine, you can also work in that clone. You just need to add your fork as additional remote repository and push your new branch there.</p><pre><code class="language-bash">git remote add myfork git@github.com:YOUR_NAME/Trixi.jl.git
# get latest main from the main repo
git checkout main
git pull
# create a new branch for a cool new feature, bug fix, ...
git checkout -b YOUR_BRANCH_NAME
# do some work and push it to your fork
git push -u myfork
# go to https://github.com/trixi-framework/Trixi.jl/pull
# and create a PR from your new branch</code></pre><div class="admonition is-info"><header class="admonition-header">Why using pull requests?</header><div class="admonition-body"><p>Immediately creating a PR for your branch has the benefit that all code discussions can now be held directly next to the corresponding code. Also, the PR allows to easily compare your branch to the upstream branch (usually <code>main</code>) to see what you have changed. Moreover, tests will run automatically.</p></div></div><h3 id="Make-changes"><a class="docs-heading-anchor" href="#Make-changes">Make changes</a><a id="Make-changes-1"></a><a class="docs-heading-anchor-permalink" href="#Make-changes" title="Permalink"></a></h3><p>With a branch and PR in place, you can now write your code and commit it to your branch. If you request feedback from someone else, make sure to push your branch to the repository such that the others can easily review your changes or dive in and change something themselves.</p><div class="admonition is-warning"><header class="admonition-header">Avoid committing unwanted files</header><div class="admonition-body"><p>When you use <code>git add .</code> or similar catch-all versions, make sure you do not accidentally commit unwanted files (e.g., Trixi output files, images or videos etc.). If it happens anyways, you can undo the last commit (also multiple times) by running <code>git reset HEAD~</code> (see also <a href="#Undo-last-commit">Undo last commit</a>). However, this strategy only works if you have <strong>not yet pushed your changes</strong>. If you <em>did</em> push your changes, please talk to one of the core developers on how to proceed.</p></div></div><h3 id="Keep-your-branch-in-sync-with-main"><a class="docs-heading-anchor" href="#Keep-your-branch-in-sync-with-main">Keep your branch in sync with <code>main</code></a><a id="Keep-your-branch-in-sync-with-main-1"></a><a class="docs-heading-anchor-permalink" href="#Keep-your-branch-in-sync-with-main" title="Permalink"></a></h3><p>For larger features with longer-living branches, it may make sense to synchronize your branch with the current <code>main</code>, e.g., if there was a bug fix in <code>main</code> that is relevant for you. In this case, perform the following steps to merge the current <code>main</code> to your branch:</p><ol><li>Commit all your local changes to your branch and push it. This allows you to delete your clone in case you make a mistake and need to abort the merge.</li><li>Execute <code>git fetch</code> to get the latest changes from the repository.</li><li>Make sure you are in the correct branch by checking the output of <code>git status</code> or by running <code>git checkout yourbranch</code>.</li><li>Merge main using <code>git merge main</code>. If there were no conflicts, hooray!, you are done. Otherwise you need to resolve your merge conflicts and commit the changes afterwards. A good guide for resolving merge conflicts can be found <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/resolving-a-merge-conflict-using-the-command-line">here</a>.</li></ol><p>In general, always use <code>git merge</code> and not <code>git rebase</code> to get the latest changes from <code>main</code>. It is less error-prone and does not create problems on branches that are worked on collaboratively.</p><h3 id="Prepare-for-review"><a class="docs-heading-anchor" href="#Prepare-for-review">Prepare for review</a><a id="Prepare-for-review-1"></a><a class="docs-heading-anchor-permalink" href="#Prepare-for-review" title="Permalink"></a></h3><p>If you feel like your branch is ready to be merged to main, prepare it for review. That is, you should</p><ul><li>merge the current <code>main</code> to your branch</li><li>run tests if available, but at least ensure that you did not accidentally change the results for one of the existing example elixirs</li><li>properly comment your code</li><li>delete old/unused code, especially commented lines (unless they contain helpful code, in which case you should add a comment on why you keep this around)</li><li>remove debug statements</li><li>add a <code>elixir_xxx.jl</code> that uses your feature (only relevant for new features)</li><li>make sure your code formatting adheres to the <a href="../styleguide/#Style-guide">Style guide</a></li><li>describe changes in <code>NEWS.md</code> if appropriate</li></ul><p>After you are confident that your branch is cleaned up properly, commit all changes and push them to the repository.</p><h3 id="Get-reviewed"><a class="docs-heading-anchor" href="#Get-reviewed">Get reviewed</a><a id="Get-reviewed-1"></a><a class="docs-heading-anchor-permalink" href="#Get-reviewed" title="Permalink"></a></h3><p>Ask one of the core developers to review your code. Sometimes this will be done directly, either face-to-face or via a video call. Other times a review will be conducted asynchronously, with the reviewer leaving comments and annotations. In some cases it will be necessary to do multiple rounds of reviews, especially if there are larger changes to be added. Just commit and push your changes to your branch, and the corresponding pull request will be updated automatically.</p><p>Please note that a review has nothing to do with the lack of experience of the person developing changes: We try to review all code before it gets added to <code>main</code>, even from the most experienced developers. This is good practice and helps to keep the error rate low while ensuring the the code is developed in a consistent fashion. Furthermore, do not take criticism of your code personally - we just try to keep Trixi as accessible and easy to use for everyone.</p><h3 id="Merge-branch"><a class="docs-heading-anchor" href="#Merge-branch">Merge branch</a><a id="Merge-branch-1"></a><a class="docs-heading-anchor-permalink" href="#Merge-branch" title="Permalink"></a></h3><p>Once your branch is reviewed and declared ready for merging by the reviewer, make sure that all the latest changes have been pushed. Then, one of the developers will merge your PR. If you are one of the developers, you can also go to the pull request page on GitHub and and click on <strong>Merge pull request</strong>. Voilá, you are done! Your branch will have been merged to <code>main</code> and the source branch will have been deleted in the GitHub repository (if you are not working in your own fork).</p><h3 id="Update-your-working-copy"><a class="docs-heading-anchor" href="#Update-your-working-copy">Update your working copy</a><a id="Update-your-working-copy-1"></a><a class="docs-heading-anchor-permalink" href="#Update-your-working-copy" title="Permalink"></a></h3><p>Once you have merged your branch by accepting the PR on GitHub, you should clean up your local working copy of the repository by performing the following steps:</p><ol><li>Update your clone by running <code>git fetch</code>.</li><li>Check out <code>main</code> using <code>git checkout main</code>.</li><li>Delete merged branch locally with <code>git branch -d yourbranch</code>.</li><li>Remove local references to deleted remote branch by executing <code>git remote prune origin</code>.</li></ol><p>You can now proceed with your next changes by starting again at the top.</p><h2 id="Using-Git"><a class="docs-heading-anchor" href="#Using-Git">Using Git</a><a id="Using-Git-1"></a><a class="docs-heading-anchor-permalink" href="#Using-Git" title="Permalink"></a></h2><h3 id="Resources-for-learning-Git"><a class="docs-heading-anchor" href="#Resources-for-learning-Git">Resources for learning Git</a><a id="Resources-for-learning-Git-1"></a><a class="docs-heading-anchor-permalink" href="#Resources-for-learning-Git" title="Permalink"></a></h3><p>Here are a few resources for learning do use Git that at least one of us found helpful in the past (roughly ordered from novice to advanced to expert):</p><ul><li><a href="https://guides.github.com/introduction/git-handbook/">Git Handbook by GitHub</a></li><li><a href="https://learngitbranching.js.org/">Learn Git Branching</a></li></ul><h3 id="Tips-and-tricks"><a class="docs-heading-anchor" href="#Tips-and-tricks">Tips and tricks</a><a id="Tips-and-tricks-1"></a><a class="docs-heading-anchor-permalink" href="#Tips-and-tricks" title="Permalink"></a></h3><p>This is an unordered collection of different tips and tricks that can be helpful while working with Git. As usual, your mileage might vary.</p><h4 id="Undo-last-commit"><a class="docs-heading-anchor" href="#Undo-last-commit">Undo last commit</a><a id="Undo-last-commit-1"></a><a class="docs-heading-anchor-permalink" href="#Undo-last-commit" title="Permalink"></a></h4><p>If you made a mistake in your last commit, e.g., by committing an unwanted file, you can undo the latest commit by running</p><pre><code class="language-bash">git reset HEAD~</code></pre><p>This only works if you have not yet pushed your branch to the GitHub repository. In this case, please talk to one of the core developers on how to proceed. Especially when you accidentally committed a large file (image, or video), please let us know as fast as possible, since the effort to fix the repository grows considerably over time.</p><h4 id="Remove-large-file-from-repository"><a class="docs-heading-anchor" href="#Remove-large-file-from-repository">Remove large file from repository</a><a id="Remove-large-file-from-repository-1"></a><a class="docs-heading-anchor-permalink" href="#Remove-large-file-from-repository" title="Permalink"></a></h4><p>If a large file was accidentally committed <strong>and pushed</strong> to the Trixi repository, please talk to one of the core developers as soon as possible so that they can fix it.</p><div class="admonition is-danger"><header class="admonition-header">Large files</header><div class="admonition-body"><p>You should never try to fix this yourself, as it potentially disrupts/destroys the work of others!</p></div></div><p>Based on the instructions found <a href="https://rtyley.github.io/bfg-repo-cleaner/">here</a> and <a href="https://docs.github.com/en/github/authenticating-to-github/removing-sensitive-data-from-a-repository">here</a>, the following steps need to be taken (as documented for GitLab in issue <a href="https://github.com/trixi-framework/Trixi.jl/issues/33">#33</a>):</p><ol><li><p>Tell everyone to commit and push their changes to the repository.</p></li><li><p>Fix the branch in which the file was committed by removing it and committing the removal. This is especially important on <code>main</code>.</p></li><li><p>Perform the following steps to clean up the Git repository:</p><pre><code class="language-bash">cd /tmp

# Download bfg-1.13.0.jar from https://rtyley.github.io/bfg-repo-cleaner/

# Get fresh clone of repo (so you can throw it away in case there is a problem)
git clone --mirror git@github.com:trixi-framework/Trixi.jl.git

# Clean up repo of all files larger than 10M
java -jar bfg-1.13.0.jar --strip-blobs-bigger-than 10M Trixi.jl.git

# Enter repo
cd Trixi.jl.git

# Clean up reflog and force aggressive garbage collection
git reflog expire --expire=now --all &amp;&amp; git gc --prune=now --aggressive

# Push changes
git push

# Delete clone
rm -rf Trixi.jl.git</code></pre></li><li><p>Tell everyone to clean up their local working copies by performing the following steps (also do this yourself):</p><pre><code class="language-bash"># Enter repo
cd Trixi.jl

# Get current changes
git fetch

# Check out the fixed branch
git checkout branchname

# IMPORTANT: Do a rebase instead of a pull!
git rebase

# Clean reflog and force garbage collection
git reflog expire --expire=now --all &amp;&amp; git gc --prune=now --aggressive</code></pre><p><strong>IMPORTANT</strong>: You need to do a <code>git rebase</code> instead of a <code>git pull</code> when updating the fixed branch.</p></li></ol></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../styleguide/">« Style guide</a><a class="docs-footer-nextpage" href="../reference-trixi/">Trixi.jl »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 6 April 2021 19:50">Tuesday 6 April 2021</span>. Using Julia version 1.6.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>