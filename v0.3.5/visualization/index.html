<!DOCTYPE html><HTML lang="en"><head><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Visualization · Trixi.jl</title><link href="https://trixi-framework.github.io/Trixi.jl/stable/visualization/" rel="canonical"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script data-main="../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/><script data-outdated-warner="">function maybeAddWarning () {
    const head = document.getElementsByTagName('head')[0];

    // Add a noindex meta tag (unless one exists) so that search engines don't index this version of the docs.
    if (document.body.querySelector('meta[name="robots"]') === null) {
        const meta = document.createElement('meta');
        meta.name = 'robots';
        meta.content = 'noindex';

        head.appendChild(meta);
    };

    // Add a stylesheet to avoid inline styling
    const style = document.createElement('style');
    style.type = 'text/css';
    style.appendChild(document.createTextNode('.outdated-warning-overlay {  position: fixed;  top: 0;  left: 0;  right: 0;  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);  z-index: 999;  background-color: #ffaba7;  color: rgba(0, 0, 0, 0.7);  border-bottom: 3px solid #da0b00;  padding: 10px 35px;  text-align: center;  font-size: 15px; }  .outdated-warning-overlay .outdated-warning-closer {    position: absolute;    top: calc(50% - 10px);    right: 18px;    cursor: pointer;    width: 12px; }  .outdated-warning-overlay a {    color: #2e63b8; }    .outdated-warning-overlay a:hover {      color: #363636; }'));
    head.appendChild(style);

    const div = document.createElement('div');
    div.classList.add('outdated-warning-overlay');
    const closer = document.createElement('div');
    closer.classList.add('outdated-warning-closer');

    // Icon by font-awesome (license: https://fontawesome.com/license, link: https://fontawesome.com/icons/times?style=solid)
    closer.innerHTML = '<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"></path></svg>';
    closer.addEventListener('click', function () {
        document.body.removeChild(div);
    });
    let href = '/stable';
    if (window.documenterBaseURL) {
        href = window.documenterBaseURL + '/../stable';
    }
    div.innerHTML = 'This is an old version of the documentation. <br> <a href="' + href + '">Go to the newest version</a>.';
    div.appendChild(closer);
    document.body.appendChild(div);
};

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', maybeAddWarning);
} else {
    maybeAddWarning();
};
</script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img alt="Trixi.jl logo" src="../assets/logo.png"/></a><div class="docs-package-name"><span class="docs-autofit">Trixi.jl</span></div><form action="../search/" class="docs-search"><input class="docs-search-query" id="documenter-search-query" name="q" placeholder="Search docs" type="text"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href="">Visualization</a><ul class="internal"><li><a class="tocitem" href="#Plots.jl"><span>Plots.jl</span></a></li><li><a class="tocitem" href="#Trixi2Vtk"><span>Trixi2Vtk</span></a></li><li><a class="tocitem" href="#Trixi2Img"><span>Trixi2Img</span></a></li></ul></li><li><a class="tocitem" href="../conventions/">Conventions</a></li><li><a class="tocitem" href="../time_integration/">Time integration</a></li><li><a class="tocitem" href="../development/">Development</a></li><li><a class="tocitem" href="../performance/">Performance</a></li><li><a class="tocitem" href="../parallelization/">Parallelization</a></li><li><a class="tocitem" href="../testing/">Testing</a></li><li><a class="tocitem" href="../styleguide/">Style guide</a></li><li><a class="tocitem" href="../github-git/">GitHub &amp; Git</a></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../reference-trixi/">Trixi.jl</a></li><li><a class="tocitem" href="../reference-trixi2vtk/">Trixi2Vtk.jl</a></li><li><a class="tocitem" href="../reference-trixi2img/">Trixi2Img.jl</a></li></ul></li><li><a class="tocitem" href="../authors/">Authors</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li><li><a class="tocitem" href="../license/">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="">Visualization</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">Visualization</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/trixi-framework/Trixi.jl/blob/master/docs/src/visualization.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a></div></header><article class="content" id="documenter-page"><h1 id="Visualization"><a class="docs-heading-anchor" href="#Visualization">Visualization</a><a id="Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Visualization" title="Permalink"></a></h1><p>There are two possible approaches to visualize results from Trixi: either directly from the REPL using <a href="#Plots.jl">Plots.jl</a> or with ParaView/VisIt by postprocessing Trixi's output files with <a href="#Trixi2Vtk">Trixi2Vtk</a>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>There is also a package <a href="#Trixi2Img">Trixi2Img</a> that allows to create images from Trixi's HDF5 output files. However, it is deprecated in favor of plotting  directly from the REPL with <a href="#Plots.jl">Plots.jl</a>.</p></div></div><h2 id="Plots.jl"><a class="docs-heading-anchor" href="#Plots.jl">Plots.jl</a><a id="Plots.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Plots.jl" title="Permalink"></a></h2><p>By far the easiest and most convenient plotting approach is to use the powerful <a href="https://github.com/JuliaPlots/Plots.jl">Plots.jl</a> package to directly visualize Trixi's 2D/3D results from the REPL.</p><p>After running a simulation with Trixi in the REPL, load the Plots package with</p><pre><code class="language-julia">julia&gt; using Plots</code></pre><p>To visualize the solution, execute</p><pre><code class="language-julia">julia&gt; plot(sol)</code></pre><p>Here we assume that <code>sol</code> holds the return value of the <code>solve(...)</code> method (with type <code>DiffEqBase.ODESolution</code>), which is the default variable name when you use one of the example elixirs. This will generate a grid layout with one subplot for each solution variable, convenient for getting an overview of the current solution:</p><p><img alt="plot-sol" src="https://user-images.githubusercontent.com/3637659/102711618-8c97ac80-42bb-11eb-96c8-af69d789feb0.png"/></p><p>You can save the resulting file as a PNG image file by calling <code>savefig(...)</code> with an output file name that ends in <code>.png</code>, e.g.,</p><pre><code class="language-julia">julia&gt; savefig("solution-overview.png")</code></pre><p>For more fine-grained control over what to plot, first create a <a href="../reference-trixi/#Trixi.PlotData2D"><code>PlotData2D</code></a> object by executing</p><pre><code class="language-julia">julia&gt; pd = PlotData2D(sol)</code></pre><p>This takes the results generated by Trixi and stores them in a data format that can be understood by the Plots package, and <code>pd</code> holds all data relevant for plotting <code>sol</code>. You can pass variable names as strings to <code>pd</code> using a dictionary-like syntax, e.g.,</p><pre><code class="language-julia">julia&gt; plot(pd["rho"])</code></pre><p>This will create a single 2D heatmap plot of the variable <code>rho</code>:</p><p><img alt="plot-rho" src="https://user-images.githubusercontent.com/3637659/102711621-93beba80-42bb-11eb-8f65-d03e083dc3bc.png"/></p><p>The default plot type and style can be overridden by passing any additional arguments that are understood by the Plots package. For example, to change the color scheme and add names to the axes, modify the previous command to</p><pre><code class="language-julia">julia&gt; plot(pd["rho"], seriescolor = :heat, xguide="x", yguide="y")</code></pre><p>to yield</p><p><img alt="plot-rho-modified" src="https://user-images.githubusercontent.com/3637659/102724842-d8c20b80-4312-11eb-87db-b3ab22e74568.png"/></p><p>For more details on the various format options for <code>plot</code>, please consult the <a href="https://docs.juliaplots.org/latest/">Plots documentation</a>.</p><p>In addition, you can plot the mesh lines on top of the solution variables by calling the <code>getmesh(...)</code> function on the <code>PlotData2D</code> object</p><pre><code class="language-julia">julia&gt; plot!(getmesh(pd)) # here we use `plot!` with an `!` to add to the previous plot</code></pre><p>which modifies the previous plot to</p><p><img alt="plot-rho-modified-mesh" src="https://user-images.githubusercontent.com/3637659/102724856-e1b2dd00-4312-11eb-83ae-e470c32f9008.png"/></p><p>By default, <code>PlotData2D</code> will convert the conserved variables to primitive variables, but this can changed by passing an appropriate conversion function in the <code>solution_variables</code> keyword argument, similar to the behavior of the <a href="../reference-trixi/#Trixi.SaveSolutionCallback"><code>SaveSolutionCallback</code></a>:</p><pre><code class="language-julia">julia&gt; pd = PlotData2D(sol; solution_variables=cons2cons) # Plot conservative variables</code></pre><p>There are several other keyword arguments that influence how the solution data is processed for visualization with the Plots package. A detailed explanation can be found in the docstring of the <a href="../reference-trixi/#Trixi.PlotData2D"><code>PlotData2D</code></a> constructor.</p><h2 id="Trixi2Vtk"><a class="docs-heading-anchor" href="#Trixi2Vtk">Trixi2Vtk</a><a id="Trixi2Vtk-1"></a><a class="docs-heading-anchor-permalink" href="#Trixi2Vtk" title="Permalink"></a></h2><p>Trixi2Vtk converts Trixi's <code>.h5</code> output files to VTK files, which can be read by <a href="https://www.paraview.org">ParaView</a>, <a href="https://visit.llnl.gov">VisIt</a>, and other visualization tools. It automatically interpolates solution data from the original quadrature node locations to equidistant <em>visualization nodes</em> at a higher resolution, to make up for the loss of accuracy from going from a high-order polynomial representation to a piecewise constant representation in VTK.</p><p>In the Julia REPL, first load the package Trixi2Vtk</p><pre><code class="language-julia">julia&gt; using Trixi2Vtk</code></pre><p>To process an HDF5 file generated by Trixi.jl, execute</p><pre><code class="language-julia">julia&gt; trixi2vtk(joinpath("out", "solution_000000.h5"), output_directory="out")</code></pre><p>This will create two unstructured VTK files in the <code>out</code> subdirectory that can be opened with ParaView or VisIt: <code>solution_000000.vtu</code> contains the discontinuous Galerkin solution data while <code>solution_000000_celldata.vtu</code> holds any cell-based values such as the current AMR indicator or the cell refinement level.</p><p><img alt="&quot;solution_000000_scalar_mesh&quot;" src="https://github.com/trixi-framework/Trixi2Vtk.jl/raw/master/docs/src/assets/solution_000000_scalar_mesh.png"/></p><p>This allows you to generate VTK files for solution, restart and mesh files. By default, Trixi2Vtk generates <code>.vtu</code> (unstructured VTK) files for both cell/element data (e.g., cell ids, element ids) and node data (e.g., solution variables). This format visualizes each cell with the same number of nodes, independent of its size.  Alternatively, you can provide <code>format=:vti</code> as a keyword argument to <code>trixi2vtk</code>, which causes Trixi2Vtk to generate <code>.vti</code> (image data VTK) files for the solution files, while still using <code>.vtu</code> files for cell-/element-based data. In <code>.vti</code> files, a uniform resolution is used throughout the entire domain, resulting in different number of visualization nodes for each element.  This can be advantageous to create publication-quality images, but increases the file size.</p><p>If you want to convert multiple solution/restart files at once, you can just supply multiple input files as the positional arguments to <code>trixi2vtk</code>, e.g.,</p><pre><code class="language-julia">julia&gt; trixi2vtk("out/solution_000000.h5", "out/solution_000040.h5")</code></pre><p>You may also use file globbing to select a range of files based on filename patterns, e.g.,</p><pre><code class="language-julia">julia&gt; trixi2vtk("out/solution_*.h5")</code></pre><p>to convert all solution files in the <code>out/</code> directory or</p><pre><code class="language-julia">julia&gt; trixi2vtk("out/restart_00[0-9]000.h5")</code></pre><p>to convert every one-thousandth restart file (<code>out/restart_000000.h5</code>, <code>out/restart_001000.h5</code> etc.).</p><p>When multiple solution/restart files are provided, Trixi2Vtk will also generate a <code>.pvd</code> file, which allows ParaView to read all <code>.vtu</code>/<code>.vti</code> files at once and which uses the <code>time</code> attribute in solution/restart files to inform ParaView about the solution time. A comprehensive list of all possible arguments for <code>trixi2vtk</code> can be found in the <a href="../reference-trixi2vtk/#Trixi2Vtk.jl-API">Trixi2Vtk.jl API</a>.</p><h2 id="Trixi2Img"><a class="docs-heading-anchor" href="#Trixi2Img">Trixi2Img</a><a id="Trixi2Img-1"></a><a class="docs-heading-anchor-permalink" href="#Trixi2Img" title="Permalink"></a></h2><div class="admonition is-info"><header class="admonition-header">Trixi2Img is deprecated</header><div class="admonition-body"><p>Since it is possible to visualize results from Trixi directly from the REPL using the Plots package, Trixi2Img has been deprecated. There are still some features missing when using Plots, such as postprocessing HDF5 files. Once these have been added to the Plots-based solution, Trixi2Img will be retired.</p></div></div><p>Trixi2Img can be used to directly convert Trixi's output files to image files, without having to use a third-pary visualization tool such as ParaView or VisIt. The downside of this approach is that it generally takes longer to visualize the data (especially for large files) and that it does not allow as much customization of the generated output files.  Currently, PNG and PDF are supported as output formats.</p><p>In the Julia REPL, first load the package Trixi2Img</p><pre><code class="language-julia">julia&gt; using Trixi2Img</code></pre><p>To process an HDF5 file generated by Trixi.jl, execute</p><pre><code class="language-julia">julia&gt; trixi2img(joinpath("out", "solution_000040.h5"), output_directory="out", grid_lines=true)</code></pre><p>This will create a file <code>solution_000040_scalar.png</code> in the <code>out/</code> subdirectory that can be opened with any image viewer:</p><p><img alt="&quot;solution_000040_scalar_resized&quot;" src="https://github.com/trixi-framework/Trixi2Img.jl/raw/master/docs/src/assets/solution_000040_scalar_resized.png"/></p><p>To visualize 3D data generated by Trixi.jl, a 2D slice must be extracted. A slice can only lie in a plane orthogonal to one of the coordinate axes. The slice plane is defined by the axis to which it is orthogonal and an axis intercept.</p><p>For example, to create a 2D slice in the xy-plane at the axis intercept <code>z = 0.5</code> from 3D data, execute</p><pre><code class="language-julia">julia&gt; trixi2img(joinpath("out", "solution_000000.h5"), output_directory="out", grid_lines=true, slice_axis=:z, slice_axis_intercept=0.5)</code></pre><p>Similar to <a href="#Trixi2Vtk">Trixi2Vtk</a>, you can also provide multiple files to <code>trixi2img</code> or use file globbing, e.g.,</p><pre><code class="language-julia">julia&gt; trixi2img("out/solution_*.h5")</code></pre><p>to convert all solution files. The default is to generate a PNG file for each variable found in the respective file. Use <code>format=:pdf</code> as a keyword argument to create PDF files. A comprehensive list of all possible arguments for <code>trixi2img</code> can be found in the <a href="../reference-trixi2img/#Trixi2Img.jl-API">Trixi2Img.jl API</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../conventions/">Conventions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 21 December 2020 16:12">Monday 21 December 2020</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>